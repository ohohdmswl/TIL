#세션 #session #토큰 #token #쿠키 #cookie #JWT 
- 쿠키
	- 쿠키를 사용해 서버는 사용자의 브라우저에 데이터 삽입 가능
	- 브라우저는 서버에 요청을 하고 이에 응답하는데 응답데이터에 정보가 담기고 브라우저에 저장하고자 하는 쿠키 존재 가능
	- 쿠키를 브라우저에 저장하면 해당 웹사이트 방문시마다 쿠키 요청과 함께 같이 전달
	- 쿠키는 도메인 제한을 받음(웹사이트 구분)
	- 유효기간 존재
	- 세션 id를 전달하기 위한 매개체
	- 쿠키는 브라우저에만 존재
	- 쿠키는 공간 제약 존재(크기)
	- 그냥 옮기는 시스템, 매개

- 세션
	- 현재 로그인한 유저들의 모든 세션 id를 db에 저장함
	- 요청이 있을 때 마다 서버는 쿠키를 받아 세션 id를 확인하고 세션 id와 일치하는 유저를 찾은 후 다음 작업 수행
	- 요청이 있을  마다 db 찾는 작업 수행
	- 유저 증가시 db 리소스 더 필요
	- 세션 id만 제공하면 됨 - 세션 정보는 세션 db에 저장 - 페이지 요청시 서버는 세션id를 db에서 검색 - 

- 토큰
	- 쿠키를 사용할 수 없는 안드로이드, ios에서 쿠키 대체로 사용됨
	- 이상하게 생긴 String
	- 토큰을 보내고 서버는 세션 db에서 해당 토큰과 일치하는 정보 찾음
	- 서버에서 받아서 요청시마다 보내야하는 것
	- 서버가 기억하는 이상하게 생긴 텍스트

- JWT
	- 토큰 형식
	- jwt로 유저 인증 처리시 세션 db 필요 없고, 서버는 유저 인증 위해 많은 과정 필요 없음
	- 공간 제약 없음
	- JWT는 암호화되지 않음 -> 누구나 열어서 해당 컨텐츠 확인 가능(비밀정보 넣으면 안됨 )
	- 정보를 갖고있는 토큰, db없이 검증 가능 


- JWT vs Sessions
	- 로그인시 아이디, 비밀번호 서버에 전송 필요
	- 아이디, 비밀번호가 맞다면 서버는 db에 따로 추가 X
	- 예) 아이디를 사용해 사인 알고리즘 이용해서 사인 작업 진행 -사인된 정보를 String 형태로 보냄 (db 과정 없음)
	- 서버 요청보낼 때 세션 id와 비슷하게 사인된 정보 또는 토큰을 서버에 전송
	- 서버는 토큰 받고 해당 사인 유효 확인 체크, 토큰 조작 체크
	- 토큰 유효시 유저 인증됨
		- 세션
			- 세션 id만 제공하면 됨 - 세션 정보는 세션 db에 저장 - 페이지 요청시 서버는 세션id를 db에서 검색
			- 서버는 로그인된 유저의 모든 정보 저장 -> db 구매, 유지 필요 
			- 로그아웃과 같은 기능 구현 가능(세션 종료) -> 세션 db가 있기에 가능 
		- JWT
			- 유저 인증시 필요 정보 토큰에 저장 - 토큰 제공 - 페이지 요청시 서버는 토큰 유효 검증만 필여(db검색 필요없음)
			- 생성된 토큰 추적 안함
			- 서버는 오로지 토큰의 유효성 여부만 앎
			- db 구매 필요없음 하지만 강제로그아웃 기능 등 구현 힘듦(토큰 만료전까진 토큰이 유효하니까) 
			- 데이터 사인-> 유저에게 전송 -> 해당 데이터 응답받을 때 유효성 검증 가능 (코로나 QR 인증 )

- HTTP 프로토콜
	- stateless
	- 서버로 가는 모든 요청이 이전 요청과 독립적으로 다뤄짐
	- 요청끼리 연결이 안됨
	- 요청 끝나면 서버는 사용자 잊음
	- 요청시마다 서버에게 사용자를 알려줘야함
	- 세션을 사용해 저장
	- 세션id는 쿠키 통해 브라우저로 들어오고 저장됨
	- 같은 웹사이트의 다른페이지 이동시 브라우저는 세션id를 갖고있는 쿠키를 서버에 보냄
	- 쿠키는 자동으로 서버에 보내지고 서버는 들어오는 쿠키를 보고 세션 id와 쿠키 확인
	- 서버는 세션id로 세션 db확인 후 그 과정에서 해당 id의 사용자를 알게 됨
	- 해당 요청이 종료되고 다른페이지 이동시 이같은 과정 반복
	- 중요 유저 정보는 서버에 존재
	- 유저가 갖고 있는건 오로지 세션id