### ğŸ’¦ ê³ ë¯¼ê±°ë¦¬
#### ğŸ“Œ ê³¼ì œ 
- **ê²Œì‹œíŒ êµ¬í˜„**
- ê³µì§€ ê¸€(ì¤‘ìš” ê¸€) ìƒë‹¨ì— í‘œì¶œ
- ê³µì§€ ê¸€ í‘œì¶œ ì¡°ê±´ ì¡´ì¬(ë‚ ì§œ)
- ğŸ§¨  **<u>ë‚ ì§œ ì¡°ê±´ì— ë”°ë¼ ìƒë‹¨ì— ê³µì§€ê¸€ì„ í‘œì¶œí•  ìˆ˜ ìˆëŠ” ê²Œì‹œíŒ êµ¬í˜„</u>**

#### ğŸ“Œ ê³ ë¯¼í•œ ë‚´ìš©
1. ==**ê²Œì‹œíŒ ë¦¬ìŠ¤íŠ¸ ë°©ì‹**==
	1. ìƒë‹¨ ê³µì§€ ê²Œì‹œê¸€ + ê¸°ì¡´ ë°©ì‹ ê²Œì‹œê¸€ ë¦¬ìŠ¤íŠ¸ (ìƒë‹¨ ê³µì§€ ê²Œì‹œê¸€ **ì¤‘ë³µ O**)
	2. ê¸°ì¡´ ë°©ì‹ ê²Œì‹œê¸€(order by ì‚¬ìš©í•´ì„œ ê³µì§€ ê²Œì‹œê¸€ì„ ê°€ì¥ ë¨¼ì € ì¡°íšŒ -> **ì¤‘ë³µ X**)
2. ==**CTRì—ì„œ LISTë¥¼ ë‘ ê°œ ë°›ì•„ì™€ì„œ ëª¨ë¸ë¡œ ë‘ ê°œì˜ LIST ë˜ì§€ê¸°**==
	- ìƒë‹¨ì— ê³µì§€í•  ê²Œì‹œê¸€ ë¦¬ìŠ¤íŠ¸+ ê¸°ì¡´ì— ê°€ì ¸ì˜¤ë˜ ë°©ì‹ì˜ ê²Œì‹œê¸€ ë¦¬ìŠ¤íŠ¸
	- ë¦¬ìŠ¤íŠ¸ ë‘ê°œë¥¼ ë˜ì§€ëŠ” ê²ƒ ê¹Œì§„ ì´í•´í–ˆëŠ”ë°, ë·° ë‹¨ì—ì„œ í˜ì´ì§•ì—ì„œ ë¬¸ì œê°€ ìƒê¸¸ ê²ƒ ê°™ì•„ ë³´ë¥˜
		- í•œ í˜ì´ì§€ì— í‘œì¶œí•  ê²Œì‹œê¸€ì˜ ê°œìˆ˜ë¥¼ ê³„ì‚°í•  ë•Œ, ìƒë‹¨ ê³µì§€ ê¸€ì˜ ê°œìˆ˜ì— ë”°ë¼ ë³µì¡í•œ ë¡œì§ì„ êµ¬í˜„í•˜ê¸° í˜ë“¤ ê²ƒ ê°™ì•˜ìŒ
3. ==**SQLì—ì„œ order by ì¡°ê±´ì„ ì£¼ê³  í•œ ê°œì˜ ê²°ê³¼ ê°’ìœ¼ë¡œ ê°€ì ¸ì˜¤ê¸°**==
	- SQLì´ ì¢€ ë³µì¡í•´ì§€ê¸´ í•˜ê² ì§€ë§Œ, SQLì—ì„œ ì¶”ë¦´ ìˆ˜ ìˆì„ ë§Œí¼ ì¶”ë¦° í›„ì— ìë°”ë¡œ ê°€ì ¸ì™€ì„œ í‘œì¶œí•˜ëŠ” ê²ƒì´ ê°„ë‹¨í•˜ë‹¤ëŠ” ì„ ë°°ë‹˜ì˜ ì¡°ì–¸ ì°¸ê³ 
	- rownumì„ ì‚¬ìš©í•´ì„œ order ìˆœì„œë¥¼ ì„¤ì •
	- where ì¡°ê±´ì ˆì— ë‚ ì§œ ê°’ì„ ê°€ì ¸ì™€ì„œ ì˜¤ëŠ˜ ë‚ ì§œë‘ ë¹„êµí•œ í›„ í¬í•¨ë˜ëŠ” ê°’ë§Œ ë“¤ê³ ì˜¤ëŠ” ë°©ì‹
4. ==**SQLì—ì„œ union ì‚¬ìš©í•´ì„œ í•œ ê°œì˜ ê²°ê³¼ ê°’ìœ¼ë¡œ ê°€ì ¸ì˜¤ê¸°**==
	- ìƒë‹¨ì— ê³µì§€í•  ê²Œì‹œê¸€ + ê¸°ì¡´ ë°©ì‹ ê²Œì‹œê¸€ì„ ê°ê° selectë¡œ ê°€ì ¸ì™€ì„œ unionìœ¼ë¡œ í•©ì¹˜ê¸°

#### ğŸ“Œ ê²°ê³¼
##### âœ” 3ë²ˆ [SQLì—ì„œ order by ì¡°ê±´ì„ ì£¼ê³  í•œ ê°œì˜ ê²°ê³¼ ê°’ìœ¼ë¡œ ì¶œë ¥]
âœ **ì²˜ìŒ ìƒê°í•œ ë°©ì‹**
```sql
SELECT
		ROW_NUMBER() OVER (ORDER BY ê³µì§€ì—¬ë¶€ , ì¼ë ¨ë²ˆí˜¸ DESC) AS rownum
		, ...
		, ...
		, ...
		, ...
		, ...
		, ...
		, (	SELECT )
```
- rownumì„ ì‚¬ìš©í•´ì„œ order byë¡œ ì •ë ¬
- selectì— ì„œë¸Œì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•´ì„œ case when ë“±ì„ í™œìš©í•´ ë‚ ì§œ ì¡°ê±´ì— ë§ëŠ”ì§€ í™•ì¸ í•  ìˆ˜ ìˆëŠ” êµ¬ë¶„ ì»¬ëŸ¼ì„ ë½‘ì•„ë³´ê³ ì í•¨

âœ **ë‹¤ì‹œ ìƒê°í•œ ë°©ì‹**
```sql
-- í˜„ì¬ ë‚ ì§œ (20240520)
-- ì‚¬ìš©í•œ DB SQL (DBeaver)

--test
CREATE TABLE bbs_table (
    id INT PRIMARY KEY,
    notice CHAR(1),
    startdate DATE,
    enddate DATE
);

INSERT INTO bbs_table (id, notice, startdate, enddate) VALUES
(1, 'Y', '2024-05-15', '2024-05-20'),
(2, 'Y', '2024-05-18', NULL),
(3, 'Y', NULL, '2024-05-22'),
(4, 'N', '2024-05-10', '2024-05-30'),
(5, 'Y', NULL, NULL),
(6, 'Y', '2024-05-15', '2024-05-18'),
(7, 'N', NULL, NULL),
(8, 'Y', '2024-05-17', '2024-05-20'),
(9, 'N', NULL, NULL),
(10, 'Y', '2024-05-01', '2024-05-30');

--DELETE FROM bbs_table;

SELECT * FROM bbs_table;



SELECT *
FROM bbs_table
WHERE 
    notice = 'Y' AND 
    (
        (startdate IS NOT NULL AND enddate IS NOT NULL AND '2024-05-19' BETWEEN startdate AND enddate)
        OR
        (startdate IS NOT NULL AND enddate IS NULL AND '2024-05-19' >= startdate)
        OR
        (startdate IS NULL AND enddate IS NOT NULL AND '2024-05-19' <= enddate)
    );

SELECT *
FROM bbs_table
WHERE 
    notice = 'Y' AND 
    (
        (startdate IS NOT NULL AND enddate IS NOT NULL AND CURRENT_DATE BETWEEN startdate AND enddate)
        --OR
        --(startdate IS NOT NULL AND enddate IS NULL AND '2024-05-19' >= startdate)
        --OR
        --(startdate IS NULL AND enddate IS NOT NULL AND '2024-05-19' <= enddate)
    );
```
- êµ³ì´ select ì ˆì— ì„œë¸Œì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•´ì„œ ë‹¤ì‹œ í•œ ë²ˆ êµ¬ë¶„ìë¥¼ ì²´í¬í•˜ëŠ” ë°©ì‹ ë§ê³ , where ì ˆì—ì„œ and ì‚¬ìš©í•˜ì—¬ ì¡°ê±´ ì ìš©í•  ìˆ˜ ìˆìŒì„ ê¹¨ë‹¬ìŒ
- ë§Œì•½ ì»¬ëŸ¼ì— ê³µì§€ë¥¼ ì‹œì‘í•  ë‚ ì§œ(startdate), ê³µì§€ë¥¼ ë‚´ë¦´ ë‚ ì§œ(edndate)ê°€ ì¡´ì¬í•œë‹¤ë©´, ì»¬ëŸ¼ì˜ ì†ì„±ì„ null ê°€ëŠ¥ìœ¼ë¡œ ì‘ì„±í•´ì„œ ê³µì§€ë¥¼ í•  ë•Œë§Œ insert ë˜ëŠ” update í•  ìˆ˜ ìˆë„ë¡ í•´ì•¼í•¨
- ê³µì§€ì—¬ë¶€ ì»¬ëŸ¼ì˜ ê°’ì„ ë¨¼ì € ì²´í¬(notice ì»¬ëŸ¼ : ê³µì§€ ì—¬ë¶€ êµ¬ë¶„ ì»¬ëŸ¼  / notice = 'Y')
- ê³µì§€ë¥¼ í•˜ë ¤ëŠ” ê¸€ë§Œ ë‚ ì§œ ì»¬ëŸ¼ì˜ ê°’ì´ ì¡´ì¬í• í…Œë‹ˆ where ì¡°ê±´ì ˆì—ì„œ null ì¸ì§€ ë¨¼ì € ì²´í¬
- ë‘ ê°œì˜ ë‚ ì§œ ì…ë ¥ ê°’ì´ ëª¨ë‘ ìˆê³ , ì˜¤ëŠ˜ ë‚ ì§œ(CURRENT_DATE) ê¸°ì¤€ìœ¼ë¡œ í¬í•¨ë˜ëŠ” ê°’ë§Œ selectë˜ë„ë¡ ì¡°ê±´ ì„¤ì •
- test í•œ SQLì—ì„œëŠ” ì›í•˜ëŠ” ê°’ì´ ì œëŒ€ë¡œ í‘œì¶œì´ ë˜ì—ˆìŒ

ğŸ– **í•„ìš”í•˜ë‹¤ê³  ìƒê°í•˜ëŠ” ì»¬ëŸ¼**

![image](https://github.com/ohohdmswl/TIL/assets/132552661/97ab046e-c9f4-4674-bfdc-4c983ecfb9c5)

ğŸ– **í…ŒìŠ¤íŠ¸ ìˆ˜í–‰ ê²°ê³¼**

![image](https://github.com/ohohdmswl/TIL/assets/132552661/4119ca10-679f-4d9d-9dfb-132765e9f35d)

![image](https://github.com/ohohdmswl/TIL/assets/132552661/440381d4-db69-447d-843e-b19eb74b5807)

