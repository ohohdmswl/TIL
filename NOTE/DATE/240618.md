### ğŸŒ³ `URLConnection` vs `HttpURLConnection`
#JAVA_C/URLConnection #JAVA_C/HttpURLConnection  
- ì°¸ê³ 
	-  https://blueyikim.tistory.com/2199

- URL í†µí•´ ì„œë²„ì™€ í†µì‹ í•˜ëŠ” JAVA í”„ë¡œê·¸ë¨ ê°œë°œ ìœ„í•´ ì‚¬ìš©
- í™œìš© :  ì›¹í˜ì´ì§€ ì—…ë¡œë“œ/ë‹¤ìš´ë¡œë“œ,  HTTP ìš”ì²­/ì‘ë‹µì „ì†¡/ê²€ìƒ‰ ë“±

ğŸŒ» `URLConnection`
- ì¶”ìƒí´ë˜ìŠ¤ â†’ ìƒˆ ì¸ìŠ¤í„´ìŠ¤ ìƒì„± ë¶ˆê°€
- URL ê°ì²´ì—ì„œ ì—°ê²° í†µí•´ URLConnectionì˜ ì¸ìŠ¤í„´ìŠ¤ GET
- ìë°” ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ URLê°„ ì—°ê²° ê´€ë ¨í•œ ëª¨ë“  í´ë˜ìŠ¤ì˜ ìˆ˜í¼í´ë˜ìŠ¤
- ì¼ë°˜ì  URL ëŒ€í•œ APIì œê³µ

ğŸŒ» `HttpURLConnection`
- ì¶”ìƒí´ë˜ìŠ¤ â†’ ìƒˆ ì¸ìŠ¤í„´ìŠ¤ ìƒì„± ë¶ˆê°€
- URL ê°ì²´ì—ì„œ ì—°ê²° í†µí•´ URLConnectionì˜ ì¸ìŠ¤í„´ìŠ¤ GET
- HTTP ê³ ìœ ì˜ ê¸°ëŠ¥ì— ëŒ€í•œ ì¶”ê°€ ì§€ì› ì œê³µ

ğŸŒ» **í´ë¼ì´ì–¸íŠ¸ í”„ë¡œê·¸ë¨ì´ URL í†µí•´ ì„œë²„ì™€ í†µì‹ í•  ë•Œ ê³¼ì •**
1. URL ê°ì²´ ìƒì„±
2. URLì—ì„œ URLConnection ê°ì²´ ì–»ê¸°
3. URL ì—°ê²° êµ¬ì„±
4. í—¤ë” í•„ë“œ ì½ê¸°
5. ì…ë ¥ ìŠ¤íŠ¸ë¦¼ ê°€ì ¸ì˜¤ê¸° ë° ë°ì´í„° ì½ê¸°
6. ì¶œë ¥ ìŠ¤íŠ¸ë¦¼ ê°€ì ¸ì˜¤ê¸° ë° ë°ì´í„° ì“°ê¸°
7. ì—°ê²° ë‹«ê¸°

* 3-6 ì„ íƒì‚¬í•­ / 5-6 ì„œë¡œ ë°”ê¿” ì‚¬ìš© ê°€ëŠ¥


**ğŸ’ 1. URL ê°ì²´ ìƒì„±**
```java
URL url = new URL("http://www.naver.com");
```
- URL ì£¼ì†Œ ëŒ€í•´ ìƒˆ URL ê°ì²´ ìƒì„±
- URLí˜•ì‹ ì˜ëª»ëœ ê²½ìš° MalformedURLException(IOExceptionÂ ì˜ í•˜ìœ„ í´ë˜ìŠ¤)

**ğŸ’ 2. URLì—ì„œ URLConnection ê°ì²´ ì–»ê¸°**
```java
URLConnection urlCon = url.openConnection();

//í”„ë¡œí† ì½œì´ http://ì¸ ê²½ìš° ë°˜í™˜ëœ ê°ì²´ë¥¼Â HttpURLConnectionÂ ê°ì²´ ë¡œ ìºìŠ¤íŒ… ê°€ëŠ¥
HttpURLConnection httpCon = (HttpURLConnection) url.openConnection();

```
- URL ê°ì²´ì˜Â **openConnection()**Â ë©”ì†Œë“œ í˜¸ì¶œë¡œ URLConnection ì¸ìŠ¤í„´ìŠ¤ ì–»ìŒ
	- *openConnection()*
		- ì‹¤ì œ ë„¤íŠ¸ì›Œí¬ ì—°ê²° ì„¤ì • ì•ˆí•¨
		- URLConnection í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ ë°˜í™˜
		- IOException ë°œìƒ ê°€ëŠ¥
	- *ë„¤íŠ¸ì›Œí¬ ì—°ê²°*
		- connect() ë©”ì†Œë“œ í˜¸ì¶œì‹œ ëª…ì‹œì ìœ¼ë¡œ ì‹¤í–‰
		- í—¤ë”í•„ë“œë¥¼ ì½ê±°ë‚˜ ì…ë ¥ìŠ¤íŠ¸ë¦¼/ì¶œë ¥ìŠ¤íŠ¸ë¦¼ì„ ê°€ì ¸ì˜¬ ë•Œ

**ğŸ’ 3. URL ì—°ê²° êµ¬ì„±**
- ì‹¤ì œ ì—°ê²° ì„¤ì • ì „ íƒ€ì„ì•„ì›ƒ, ìºì‹œ, HTTP ìš”ì²­ ë°©ë²•ë“± í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ ê°„ ë‹¤ì–‘ ì˜µì…˜ ì„¤ì • ê°€ëŠ¥
- URLConnection í´ë˜ìŠ¤ëŠ” ì—°ê²° êµ¬ì„±ìœ„í•œ ë©”ì†Œë“œ ì œê³µ

| ë©”ì†Œë“œ                                 | ê¸°ëŠ¥                                                                                                                      |
| ----------------------------------- | ----------------------------------------------------------------------------------------------------------------------- |
| **setConnectTimeout**Â (int timeout) | ì—°ê²° íƒ€ì„ì•„ì›ƒ ê°’ì„ ì„¤ì •(ë‹¨ìœ„ : ë°€ë¦¬ì´ˆ)<br>java.net.SocketTimeoutExceptionëŠ”Â ì—°ê²°ì´ ì„¤ì •ë˜ê¸° ì „ì— ì œí•œ ì‹œê°„ì´ ë§Œë£Œë˜ë©´ ë°œìƒ<br>ì‹œê°„ ì´ˆê³¼ê°€ 0ì´ë©´, ë¬´í•œëŒ€ íƒ€ì„ì•„ì›ƒ(ê¸°ë³¸ê°’)ì„ ì˜ë¯¸ |
|                                     |                                                                                                                         |

**ğŸ’ 4. í—¤ë” í•„ë“œ ì½ê¸°**
- ì—°ê²° ì´ë¤„ì§€ë©´ ì„œë²„ëŠ” URLìš”ì²­ ì²˜ë¦¬ í›„ ë©”íƒ€ ë°ì´í„°+ì‹¤ì œ ì½˜í…ì¸ ë¡œ êµ¬ì„±ëœ ì‘ë‹µ ë‹¤ì‹œ ë¦¬í„´
	- ë©”íƒ€ë°ì´í„° : í—¤ë”í•„ë“œë¼ê³  í•˜ëŠ” í‚¤=ìŒ ëª¨ìŒ
	- í—¤ë”í•„ë“œ : ì„œë²„ ëŒ€í•œ ì •ë³´, ìƒíƒœì½”ë“œ, í”„ë¡œí† ì½œ ì •ë³´ ë“±
	- ì‹¤ì œ ì½˜í…ì¸  : ë¬¸ì„œ ìœ í˜• ë”°ë¼ í…ìŠ¤íŠ¸, HTML, ì´ë¯¸ì§€ ë“±
- URLConnection í´ë˜ìŠ¤ëŠ” í—¤ë” í•„ë“œ ì½ê¸° ìœ„í•œ ë©”ì†Œë“œ ì œê³µ


| ë©”ì†Œë“œ                    | ê¸°ëŠ¥                                                            |
| ---------------------- | ------------------------------------------------------------- |
| **getHeaderFields**Â () | ëª¨ë“  í—¤ë” í•„ë“œë¥¼ í¬í•¨í•˜ëŠ” ë§µì„ ë°˜í™˜<br>í‚¤ = í•„ë“œ ì´ë¦„<br>ê°’ = í•´ë‹¹ í•„ë“œ ê°’ì„ ë‚˜íƒ€ë‚´ëŠ” ë¬¸ìì—´ ëª©ë¡ |

**ğŸ’ 5. ì…ë ¥ ìŠ¤íŠ¸ë¦¼ ê°€ì ¸ì˜¤ê¸° ë° ë°ì´í„° ì½ê¸°**
```java
InputStream inputStream = urlCon.getInputStream();
byte[] data = new byte[1024];
inputStream.read(data);
```
- ì‹¤ì œ ë‚´ìš©ì½ê¸° ìœ„í•´ ì—°ê²°ì—ì„œ InputStream ì¸ìŠ¤í„´ìŠ¤ ì–»ì–´ì•¼ í•¨
- InputStream ì˜ read() ì‚¬ìš©í•´ ë°ì´í„° ì½ê¸°
	- read()
		- ë°ì´í„°ë¥¼ ë°”ì´íŠ¸ ë°°ì—´ë¡œ ì½ëŠ” low level ë©”ì†Œë“œ

```java
InputStream inputStream = urlCon.getInputStream();
InputStreamReader reader = new InputStreamReader(inputStream);


int character = reader.read();  // reads a single character
char[] buffer = new char[4096];
reader.read(buffer);    // reads to an array of characters
```

- ë°©ë²• â‘  : ë¬¸ì ë°ì´í„° ì½ê¸° ìœ„í•´ InputStreamì„ InputStreamReaderì—ì„œ ë³´ë‹¤ í¸í•˜ê²Œ ì¡°ì‘ ìœ„í•´ ë˜í•‘


```java
BufferedReader reader = new BufferedReader(new InputStreamReader(input));
String line = reader.readLine(); // reads a line
```
- ë°©ë²• â‘¡ :  ë°ì´í„°ë¥¼ ë¬¸ìì—´ë¡œ ì½ê¸° ìœ„í•´ InputStreamì„ BufferedReaderë¡œ ë˜í•‘

`getInputStream ()`
- ì˜ˆì™¸ ë°œìƒ ê°€ëŠ¥
	- IOException : ì…ë ¥ ìŠ¤íŠ¸ë¦¼ì„ ìƒì„±í•˜ëŠ” ë™ì•ˆ I/O ì˜¤ë¥˜ê°€ ë°œìƒí•œ ê²½ìš°
	- SocketTimeoutException : ë°ì´í„°ë¥¼ ì½ì„ ìˆ˜ ìˆê¸° ì „ì— ì½ê¸° ì œí•œ ì‹œê°„ì´ ë§Œë£Œë˜ëŠ” ê²½ìš°
	- UnknownServiceExcepetion : í”„ë¡œí† ì½œì´ ì…ë ¥ì„ ì§€ì›í•˜ì§€ ì•ŠëŠ” ê²½ìš°

**ğŸ’ 6. ì¶œë ¥ ìŠ¤íŠ¸ë¦¼ ê°€ì ¸ì˜¤ê¸° ë° ë°ì´í„° ì“°ê¸°**
```JAVA
urlCon.setDoOutput(true);
```
- ì„œë²„ì— ë°ì´í„° ë³´ë‚´ê¸° ìœ„í•´ ë¨¼ì € ì—°ê²°ì—ì„œ ì¶œë ¥ í™œì„±í™”í•´ì•¼í•¨

```java
OutputStream outputStream = urlCon.getOutputStream();
byte[] data = new byte[1024];
outputStream.write(data);
```
- ì—°ê²°ê³¼ ê´€ê³„ëœ OutputStream ê°ì²´ ê°€ì ¸ì™€ì„œ OutputStreamì˜ Write() ì‚¬ìš©í•´ ë°ì´í„° ì“°ê¸°


```java
OutputStreamWriter writer = new OutputStreamWriter(outputStream);
int character = 'a';
writer.write(character); // writes a single character

char[] buffer = new char[4096];
writer.write(buffer); // writes an array of characters
```
-  Write()
	- ë°”ì´íŠ¸ì˜ ë°°ì—´ì„ ê¸°ë¡í•˜ëŠ” ë‚®ì€ìˆ˜ì¤€ì˜ ë°©ë²•
- ë°©ë²• â‘  :  OutputStreamì„ OutputStreamWriterì—ì„œ ë³´ë‹¤ í¸í•˜ê²Œ ì¡°ì‘ ìœ„í•´ ë˜í•‘

```java
PrintWriter writer = new PrintWriter(outputStream);
String line = "This is String";
writer.print(line);
```
- ë°©ë²• â‘¡ :  ë¬¸ìì—´ì„ ì‘ì„±í•˜ê¸° ìœ„í•´Â PrintWriterÂ ì—ì„œÂ OutputStreamÂ ì„Â ë˜í•‘

`getOutputStream ()`
- ì˜ˆì™¸ ë°œìƒ ê°€ëŠ¥
	- IOException
	- UnknownServiceException


**ğŸ’ 7. ì—°ê²° ë‹«ê¸°**
- ì—°ê²° ë‹«ê¸° ìœ„í•´ InputStream ë˜ëŠ” OutputStream ê°ì²´ì—ì„œ close() í˜¸ì¶œ
	- â†’ URLConnection ì¸ìŠ¤í„´ìŠ¤ì™€ ì—°ê²°ëœ ë„¤íŠ¸ì›Œí¬ ë¦¬ì†ŒìŠ¤ í•´ì œë¨


<br>
<hr>
<br>

### ğŸŒ³ ìŠ¤í”„ë§ ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ì™¸ë¶€ url í˜¸ì¶œ
- ì°¸ê³ 
	- https://blerang055.tistory.com/6

- ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ì™¸ë¶€ urlí˜¸ì¶œ ë°©ë²•
	- RedirectView ì‚¬ìš©
	- return String
	- return ModelAndView
	- return void httpServletResponse.sendRedirect
	- return void httpHeaders


ğŸ“Œ RedirectView
```java

```
- returníƒ€ì… â†’ Â RedirectView
- ì„ ì–¸
	- `RedirectView redirectView = new RedirectView();`
- ì´ë™í•  url ì‘ì„±
	- Â `redirectView.setUrl("http://localhost:8081/groupList");`
- return ê°’ì„  redirectViewë¡œ ë³€ê²½
	- `return redirectView;`

