<hr>

# 📌 [JS] input File (첨부파일) 
 #J #JS #input_file
 - 참고
	 - https://blog.naver.com/shtmdgus04/221135535245
  <hr style="border : dashed 1px #cccccc;">

- #### ✔ 파일 크기 체크
```js
var maxSize = 1048576; // 1M
var fileSize = document.getElementById("첨부파일 INPUT").files[0].size;

if  ( fileSize > maxSize )  {
alert("1M이하의 파일만 등록 가능합니다.");
$("첨부파일 INPUT").val(""); // input 초기화
$("첨부파일 INPUT").focus();
return false;
}
```

- **fileSize를 구하는 함수 중 .files[]가 IE 9 이하의 버전에서는 작동하지 않음 (에러발생)**

 - #### ✔ 파일 확장자 체크
 ```js
var ext = $("첨부파일 INPUT").val().slice($("첨부파일 INPUT").val().lastIndexOf(".") + 1).toLowerCase(); // 확장자 추출
if  ( !(ext == 'jpg'  ext == 'gif'  ext == 'png') )  { // 확장자 체크
	alert("jpg, gif, png 파일 종류만 등록 가능합니다.");
	$("첨부파일 INPUT").val(""); // input 초기화
	$("첨부파일 INPUT").focus();
	return false;
}
```

- `.lastIndexOf(string)` 
	- 뒤에서부터 해당문자 index 찾음
- `slice(start, end)`
	- start 지점에서 end 지점까지 문자 추출
	- start 만 존재할 경우 start부터 끝까지

- #### ✔ 파일명 길이 체크
```js
var max = 40;
var fileValue = $("#sFile").val().split("\\");
var fileNameExten = fileValue[fileValue.length-1]; // 파일명
var fileName = fileNameExten.split('.').slice(0, -1).join('.');
if(fileName.length > max){
	alert("파일 이름은 최대 40자까지 입력 가능합니다.\n변경후 다시 등록해 주세요.");
	return;
}
```
- `split()`
- ``